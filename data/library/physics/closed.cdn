require "findbodies.cdn"

node | "@cbodies"
     | if(  outputs
          | has-template(physics.cjoint)
          | output
          | name)
{
    coordinateTransformSucc = "Spatial.Inverse(@@0.baseToLocalTransform * localToBaseTransformPred)" | once
}

node | "@cbodies"
     | not(  outputs
           | has-template(physics.cjoint)
           | output)
{
    coordinateTransformSucc = "baseToLocalTransformPred" | once
}

# vi:ts=4:et
