\lstdefinelanguage{cdn}{%
  morekeywords={%
    action,%
    all,%
    any,%
    apply,%
    as,%
    at,%
    bidirectional,%
    context,%
    debug-print,%
    defines,%
    delete,%
    discrete,%
    edge,%
    event,%
    from,%
    import,%
    in,%
    include,%
    initial-state,%
    integrated,%
    integrator,%
    interface,%
    io,%
    layout,%
    link-library,%
    no-self,%
    node,%
    object,%
    of,%
    on,%
    once,%
    out,%
    parse,%
    piece,%
    polynomial,%
    probability,%
    require,%
    set,%
    settings,%
    state,%
    terminate,%
    to,%
    unapply,%
    when,%
    with,%
    within,%
    actions,%
    append-context,%
    applied-templates,%
    children,%
    count,%
    debug,%
    edges,%
    first,%
    from-set,%
    functions,%
    has-flag,%
    has-template,%
    if,%
    ifstr,%
    imports,%
    input,%
    input-name,%
    inputs,%
    last,%
    name,%
    nodes,%
    not,%
    notstr,%
    objects,%
    output,%
    output-name,%
    outputs,%
    parent,%
    recurse,%
    reduce,%
    reverse,%
    root,%
    self,%
    siblings,%
    sort,%
    subset,%
    templates,%
    templates-root,%
    type,%
    unique,%
    variables,%
    xor},%
   morecomment=[l]\#,%
   morestring=[b]"%
  }[keywords,comments,strings]
